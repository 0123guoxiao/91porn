# 91Porn
91Porn Android 客户端，突破游客每天观看10次视频的限制，还可以下载视频

### 技术概览
rxjava+retrofit+rxcache+mvp+jsoup

### 目前具备功能：
1. 浏览首页及各分类页面信息
2. 播放视频，下载视频（基本上大多数视频需要挂代理才能观看）
3. 收藏视频（仅本地功能，列表左滑可看见收藏按钮，其他功能类似），导出收藏视频链接（视频下载和导出的链接均在存储卡91Porn目录下）-已去掉本地收藏功能，改为帐号收藏

### 未来
1. 更换视频播放器
2. 基于91Porn自身用户系统做更多功能（没账号，遥遥无期...）--之前不知，已经注册帐号，做了相关功能，具体查看更新日志
3. 更多未及想到的及bug修复

### 版本更新：
##### 2018年1月21日    ----v1.1.1
夜间模式技术难点不算太大，毕竟有官方支持，可是要一点点的去适配资源，吐。

1. 首页大改版，更多板块即将加入
2. 新增夜间模式（适配过程好痛苦）
3. 修复检查更新概率404错误问题
4. 保存数据未及时更新导致崩溃问题
5. 优化底层网络结构，优化HTTP代理设置
6. 其他细节优化及bug修复

版本改动较大，测试不够，难免有较多bug，不能自动更新请到github手动下载。


##### 2018年1月15日    ----v1.1.0
更换底层数据库，之前因为好奇用的objectbox，一开始没注意，后面一查apk，发现为了兼容更多的平台，这货的so大的出奇（加起来有几M）,现改为greendao3;为了增加手势滑动关闭功能（这个库无需设置主题背景透明，这点非常不错），
替换了图片加载库为glide（个人还是喜欢用fresco，无奈有冲突，滑动关闭之后会闪屏）；后台日志观察发现还是有少部分用户会出现观看次数上限，暂不知是何原因。**建议卸载旧版本全新安装**

1. 更换底层数据库以及缓存策略等，所以建议卸载旧版本全新安装（卸载前确认记好自己的帐号密码，安装包下载完成后在存储卡下载（download）目录）
2. 访问超时自动重试，减少网络访问超时失败出现几率
3. 在关于页面中，增加缓存查看和清除（基于最新的缓存策略，之前版本可用系统或其他软件清理一次即可）
4. 优化视频下载功能，完善exoplayer播放引擎，微调播放及列表界面
5. 加入类似微信手势滑动关闭界面
6. 增加HTTP代理设置，出现观看次数上限的可尝试设置
7. 其他细节优化及bug修复

##### 2018年1月13日    ----v1.0.9
暂时取消混淆打包，下个版本换数据库。

1. 完善exoplayer播放引擎，支持手势操作
2. 修复收藏失败崩溃的bug
3. 我的收藏现在支持删除了
4. 其他细节优化及bug修复

##### 2018年1月9日    ----v1.0.8
启用混淆打包,虽说可以缩小安装包大小，但可能也隐藏有很多未知错误，待后续观察

1. 完善exoplayer播放引擎
2. 修复首次默认播放引擎显示错误问题
3. 修复自动更新安装出错问题（以往可到下载目录（download）下手动点击安装包安装）
4. 新增视频搜索功能
5. 新增查看作者更多视频（播放界面点击视频作者名字）
6. 启用混淆打包，减少安装包大小


##### 2018年1月6日    ----v1.0.7
日志上传功能的好处终于体现出来了，集成之后一堆奇奇怪怪的bug来了，有些隐藏的还挺深，编码时考虑不全就GG了；修复超观看次数上限（目前不确定是不是这个原因，因为已经做了次数重置等，理论上不会，自己也没遇到过，
增加了上传日志，有待下个版本观察）时未验证videoUrl为null导致崩溃的bug；改善了访问总是超时的问题，这个问题一开始一直存在，一直找不到原因，这次算是找到点苗头了，原来是请求头缺少了Referer,囧;下载完成的视
频是调用本地播放器打开的，没想到还有用户手机上没有任何播放器...导致崩溃了。有用户说视频无法播放，该是播放器不兼容，此版本增加了google自家的exoplayer播放引擎（beta）,支持倍速播放，应该是能够兼容大部分
的机型了。

1. 修复超观看次数上限时未验证videoUrl为null导致崩溃的bug
2. 改善了总是网络超时问题
3. 修复由于解析视频失败时点击播放器崩溃的bug
4. 修复打开下载视频时由于没有安装任何播放器导致程序崩溃的bug
5. 新增exoplayer播放引擎（beta），支持倍速播放
6. 其他细小bug以及优化改进

##### 2017年12月31日    ----v1.0.6
之前一直觉得播放界面太单调，这次改版增加了显示评论，回复评论功能，瞬间觉得好多了；因为项目特殊原因，一直没有集成bugfly收集崩溃日志，这次找到了国外的，顺带集成了；
至于安装包错误问题，因为在自己的手机上没有发现过，所以也不知道有这个问题；版本改动较多，测试时间有限，如果发现更多的bug,可以去[issues](https://github.com/techGay/91porn/issues)界面反馈，尽可能的描述详细点

1. 播放界面改版
2. 增加显示视频评论以及评论视频，回复评论
3. 集成APP崩溃日志收集
4. 修复安装包证书错误问题
5. 其他细小改进

##### 2017年12月25日    ----v1.0.5
发现了一个bug，影响使用，所以发布新版本，顺带优化点代码
1. 修复注册重复问题
2. 修复刷新之后加载更多重复的bug
3. 优化代码

##### 2017年12月24日    ----v1.0.3
之前不小心把自己帐号上传，导致挨封了**注意：切记在电脑和手机上同时登录，否则可能封号！**
1. 修复登录验证码错误
2. 新增注册功能
3. 新增自动更新功能
4. 新增浏览记录（本地功能）

##### 2017年12月21日    ----v1.0.2
之前以为帐号要vip才能有，之后发现可以注册，所以进行版本大改，<font color=red>**注意：安装新版本前请先卸载之前的版本**</font>
1. 支持用户登录功能，帐号需自己去官网注册，后期考虑提供注册功能
2. 支持收藏视频功能（去掉本地收藏，同步帐号收藏，即使程序卸载，数据依然不会丢失）
3. 新增板块：最近更新，即按最新上传时间排序浏览视频


### 下载APK(当然你也可以下载源码自己编译)
[在apk目录下会上传最新版本，选择下载即可](https://github.com/techGay/91porn/tree/master/apk)

[或者这里也可以下载](https://bitbucket.org/techGay/91porn/downloads)

**注：v1.0.3版本之后已经增加了自动更新功能，不必手动下载升级了**


### 建议或者bug反馈
在[issues](https://github.com/techGay/91porn/issues) 界面反馈即可，尽可能的把问题描述清楚，比如操作过程，机型，系统版本，能否复现等等
### 声明
本项目仅做技术交流使用，任何人或组织无论以何种形式将其用在其他任何地方由此引发的各种问题均与本人无关